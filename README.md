# webpack-build
åŸºäºwebpack+nodejsçš„æ‰“åŒ…ç³»ç»Ÿ



#### ç›®å½•ç»“æ„

- _tpl â€”â€” å­˜æ”¾ç”Ÿæˆhtmlçš„æ¨¡æ¿æ–‡ä»¶
- apps â€”â€” å·¥ä½œç›®å½•ï¼Œå­˜æ”¾å·²æœ‰çš„é¡¹ç›®
- base â€”â€” å­˜æ”¾å…¬å…±çš„åº“æ–‡ä»¶
- node_modules â€”â€” nodeæ¨¡å—
- webpack_config â€”â€” webpackå„æ¨¡å—é…ç½®
  - alias.config.js â€”â€” é…ç½®åº“æ–‡ä»¶çš„åˆ«åï¼ˆå¯è‡ªè¡Œæ·»åŠ ï¼‰
  - base.config.js â€”â€” webpackåŸºç¡€é…ç½®
  - entry.config.js â€”â€” å…¥å£æ–‡ä»¶é…ç½®ï¼ˆåŠ¨æ€æ·»åŠ å…¥å£ï¼Œç›®å‰ä¸ºå•é¡µé¢ï¼Œæš‚æ—¶æ²¡æœ‰ç”¨åˆ°ï¼‰
  - loader.config.js â€”â€” é…ç½®webpackç”¨åˆ°çš„loader
  - plugin.config.js â€”â€” é…ç½®webpackç”¨åˆ°çš„æ’ä»¶
  - server.config.js â€”â€” é…ç½®dev-server
- package.json â€”â€” npmçš„é…ç½®æ–‡ä»¶
- proxy.js â€”â€” ä»£ç†æœåŠ¡å™¨é…ç½®ï¼ˆå¼€å‘æ—¶å¯ç›´æ¥ç”¨dev-serverï¼Œæœ¬æœåŠ¡å¯ç”¨æ¥æŸ¥çœ‹æ‰“åŒ…ä»£ç æ•ˆæœï¼‰
- webpack.config.js â€”â€”webpackæ‰“åŒ…çš„é…ç½®æ–‡ä»¶


#### appsä¸­é¡¹ç›®ç›®å½•ç»“æ„

- src â€”â€” å­˜æ”¾æºæ–‡ä»¶
  - main.js â€”â€” å…¥å£æ–‡ä»¶ï¼Œå¿…é¡»
  - view.js â€”â€” é…ç½®é¡µé¢ä¿¡æ¯åŠéœ€å¼•å…¥çš„åº“ï¼Œå¿…é¡»
- online â€”â€” å­˜æ”¾ç”Ÿäº§ç¯å¢ƒæ‰“åŒ…çš„ä»£ç 
- package.json â€”â€” é¡¹ç›®çš„é…ç½®æ–‡ä»¶

#### é…ç½®

1. å°†æœ¬é¡¹ç›®å…‹éš†åˆ°æœ¬åœ°ï¼Œæ‰§è¡Œ`npm install`å®‰è£…ä¾èµ–çš„æ¨¡å—
2. åœ¨webpack-build-commonç›®å½•ä¸‹æ–°å»ºappsç›®å½•

#### ä½¿ç”¨

â€”â€”å¼€å‘â€”â€”

1. åœ¨appsç›®å½•ä¸‹æ–°å»ºé¡¹ç›®ï¼Œé¡¹ç›®ç»“æ„å¦‚ä¸Š

2. é…ç½®view.jsï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼Œlibsä¸ºéœ€è¦æ‰“åŒ…çš„åº“ï¼ˆèƒ½å¼•å…¥å“ªäº›åº“ï¼Œéœ€è¦åœ¨webpackä¸­è¿›è¡Œé…ç½®ï¼‰ï¼Œpageä¸ºé¡µé¢ä¿¡æ¯ï¼ˆchunksçš„å€¼å§‹ç»ˆæ˜¯æ¯”libså¤šä¸€ä¸ª"main"ï¼‰

   ```javascript
   module.exports = {
     libs:['https',"vue",'view'],
     page:{
         title:'index',
         hash:false,
         chunks:['https',"vue",'view','main'],
         filename:'index.html',
         template:'_tpl/tpl.html',
         inject:'body'
     }
   }
   ```

3. é…ç½®main.jsï¼Œè¯¥æ–‡ä»¶ä¸ºå…¥å£æ–‡ä»¶ï¼Œä¸€èˆ¬æ˜¯åˆå§‹åŒ–vueçš„æ ¹å®ä¾‹ï¼Œå¼•å…¥ä¸€äº›å¿…é¡»çš„ä¾èµ–ç­‰

4. åœ¨Linuxæˆ–Macä¸‹ï¼Œåœ¨æœ¬é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ`name=é¡¹ç›®å port=xxxx npm run dev`è¿›å…¥å¼€å‘æ¨¡å¼ï¼Œporté»˜è®¤ä¸º3000ç«¯å£ï¼ˆå¯ä¸å†™ï¼‰ï¼›åœ¨windowsä¸‹ï¼Œéœ€è¦åœ¨webpack-build-commonä¸‹çš„package.jsonä¸­çš„scriptsä¸­æ·»åŠ é¡¹ç›®è¿è¡Œçš„é…ç½®ï¼ˆå‚ç…§å·²æœ‰çš„dev-demoå†™æ³•ï¼‰

5. ä¾‹å¦‚appsç›®å½•ä¸‹æœ‰åç§°ä¸ºprojectçš„é¡¹ç›®ï¼š`name=project port=3001 npm run dev` ï¼Œåœ¨æµè§ˆå™¨ä¸­è®¿é—®localhost:3001

â€”â€”çº¿ä¸Šæ‰“åŒ…â€”â€”

æ‰§è¡Œ`name=é¡¹ç›®å npm run build` è¿›è¡Œç”Ÿäº§ç¯å¢ƒæ‰“åŒ…ï¼Œæ‰“åŒ…ä»£ç å­˜æ”¾åœ¨é¡¹ç›®ä¸­çš„onlineç›®å½•